# PyBot开发日志



## 目前已实现的功能

### 主函数(PyBotMain)

异步WebSocket监听推送的消息

### 发送消息(SendMsg)

根据传入的参数生成消息链并发送

### 错误捕获装饰器(TryRun)

保证进程正常运行的重要功能，捕获错误发送错误日志

### 选择打印(Print)

在非守护进程运行情况下打印运行日志

### 消息链判断(Judge)

对消息链消息进行解析，完成命令消息识别

### 守护进程(Daemon)

提供守护进程及多进程功能

### 下载(Download)

提供下载功能，以多进程方式运行，以防止阻塞父进程

### 色图(Setu)

使用lolicon的色图api，会自动将新图下载到本地，调用额度到达上限时发本地存的图(**需配置本地的服务器，nginx，apache随你喜欢就好**)

### 时间控制装饰器(LimiTime)

通过process的方式实现时间控制



## To Do

>   1.  多进程发图功能，目前的功能还不完善，时常出现进程卡死现象，加入时间控制机制 (Done)
>   2.  改进Judge函数，对于同一条消息重复调用的现象是不必须的
>   3.  统一的多进程管理，现在每次都要创建新的进程，看了看celery好像还可以，不过个人用的小机器人嘛，要不还是算了？
>   4.  图形界面(扯远了扯远了)

